istioNamespace: istio-system
tracingAddress: jaeger-collector.observe

gateways:
  - name: graphql-public-ingress
    namespace: frontend-apps
    serviceAnnotations:
      external-dns.alpha.kubernetes.io/hostname: graphql.example.com
      service.beta.kubernetes.io/aws-load-balancer-ssl-cert: your-arn
    labels:
      app: graphql
    ports: 
    - name: http
      protocol: TCP
      port: 80
      targetPort: 8080
    - name: https
      protocol: TCP
      port: 443
      targetPort: 8080
    replicaCount: 2
    autoscale:
      min: 1 
      max: 5
      cpu:
          targetAverageUtilization: 80
  - name: graphql-private-ingress
    namespace: frontend-apps
    serviceAnnotations:
      external-dns.alpha.kubernetes.io/hostname: graphql-private.example.com
    labels:
      app: graphql
    ports: 
    - name: http
      protocol: TCP
      port: 80
      targetPort: 8080
    replicaCount: 2
    autoscale:
      min: 1 
      max: 5
      cpu:
          targetAverageUtilization: 80
  - name: graphql-nlb
    namespace: frontend-apps
    serviceAnnotations:
      external-dns.alpha.kubernetes.io/hostname: graphql-private.example.com
    labels:
      app: graphql
    ports: 
    - name: http
      protocol: TCP
      port: 80
      targetPort: 8080
    replicaCount: 2
    autoscale:
      min: 1 
      max: 5
      cpu:
          targetAverageUtilization: 80